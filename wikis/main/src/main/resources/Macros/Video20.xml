<?xml version="1.1" encoding="UTF-8"?>

<xwikidoc version="1.4" reference="Macros.Video20" locale="">
  <web>Macros</web>
  <name>Video20</name>
  <language/>
  <defaultLanguage/>
  <translation>0</translation>
  <creator>xwiki:XWiki.Admin</creator>
  <parent>Macros.WebHome</parent>
  <author>xwiki:XWiki.Admin</author>
  <contentAuthor>xwiki:XWiki.Admin</contentAuthor>
  <version>1.1</version>
  <title>Video Macro</title>
  <comment/>
  <minorEdit>false</minorEdit>
  <syntaxId>xwiki/2.0</syntaxId>
  <hidden>true</hidden>
  <content>==Example usage==

Youtube:

{{code}}
{{video url="http://www.youtube.com/watch?v=Titn-yAh74A"/}}
{{/code}}

{{video url="http://www.youtube.com/watch?v=Titn-yAh74A"/}}

{{code}}
{{video url="http://www.youtube.com/watch?v=Titn-yAh74A" ratio="16:9"/}}
{{/code}}

{{video url="http://www.youtube.com/watch?v=Titn-yAh74A" ratio="16:9"/}}

Dailymotion:

{{code}}
{{video url="http://www.dailymotion.com/video/x9x04h_wiki-et-reseau-social-xwiki-et-blue_tech"/}}
{{/code}}

{{video url="http://www.dailymotion.com/video/x9x04h_wiki-et-reseau-social-xwiki-et-blue_tech"/}}

Vimeo:

{{code}}
{{video url="http://vimeo.com/30980990"/}}
{{/code}}

{{video url="http://vimeo.com/30980990"/}}

Attachment:

{{code}}
{{video attachment="test-vid.webm"/}}
{{/code}}

{{video attachment="test-vid.webm"/}}

DASH:

{{code}}
{{video dash="Space.Page"/}}
{{/code}}

{{video dash="Space.Page"/}}</content>
  <attachment>
    <filename>youtube.svg</filename>
    <mimetype>image/svg+xml</mimetype>
    <charset>UTF-8</charset>
    <author>xwiki:XWiki.Admin</author>
    <version>1.1</version>
    <comment/>
    <content>PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmkteW91dHViZSIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBkPSJNOC4wNTEgMS45OTloLjA4OWMuODIyLjAwMyA0Ljk4Ny4wMzMgNi4xMS4zMzVhMi4wMSAyLjAxIDAgMCAxIDEuNDE1IDEuNDJjLjEwMS4zOC4xNzIuODgzLjIyIDEuNDAybC4wMS4xMDQuMDIyLjI2LjAwOC4xMDRjLjA2NS45MTQuMDczIDEuNzcuMDc0IDEuOTU3di4wNzVjLS4wMDEuMTk0LS4wMSAxLjEwOC0uMDgyIDIuMDZsLS4wMDguMTA1LS4wMDkuMTA0Yy0uMDUuNTcyLS4xMjQgMS4xNC0uMjM1IDEuNTU4YTIuMDA3IDIuMDA3IDAgMCAxLTEuNDE1IDEuNDJjLTEuMTYuMzEyLTUuNTY5LjMzNC02LjE4LjMzNWgtLjE0MmMtLjMwOSAwLTEuNTg3LS4wMDYtMi45MjctLjA1MmwtLjE3LS4wMDYtLjA4Ny0uMDA0LS4xNzEtLjAwNy0uMTcxLS4wMDdjLTEuMTEtLjA0OS0yLjE2Ny0uMTI4LTIuNjU0LS4yNmEyLjAwNyAyLjAwNyAwIDAgMS0xLjQxNS0xLjQxOWMtLjExMS0uNDE3LS4xODUtLjk4Ni0uMjM1LTEuNTU4TC4wOSA5LjgybC0uMDA4LS4xMDRBMzEuNCAzMS40IDAgMCAxIDAgNy42OHYtLjEyM2MuMDAyLS4yMTUuMDEtLjk1OC4wNjQtMS43NzhsLjAwNy0uMTAzLjAwMy0uMDUyLjAwOC0uMTA0LjAyMi0uMjYuMDEtLjEwNGMuMDQ4LS41MTkuMTE5LTEuMDIzLjIyLTEuNDAyYTIuMDA3IDIuMDA3IDAgMCAxIDEuNDE1LTEuNDJjLjQ4Ny0uMTMgMS41NDQtLjIxIDIuNjU0LS4yNmwuMTctLjAwNy4xNzItLjAwNi4wODYtLjAwMy4xNzEtLjAwN0E5OS43ODggOTkuNzg4IDAgMCAxIDcuODU4IDJoLjE5M3pNNi40IDUuMjA5djQuODE4bDQuMTU3LTIuNDA4TDYuNCA1LjIwOXoiLz4KPC9zdmc+</content>
    <filesize>924</filesize>
  </attachment>
  <object>
    <name>Macros.Video20</name>
    <number>0</number>
    <className>XWiki.JavaScriptExtension</className>
    <guid>a0822a56-03ea-4a55-a3e8-14b19a256cd4</guid>
    <class>
      <name>XWiki.JavaScriptExtension</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <cache>
        <cache>0</cache>
        <defaultValue>long</defaultValue>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <freeText>forbidden</freeText>
        <largeStorage>0</largeStorage>
        <multiSelect>0</multiSelect>
        <name>cache</name>
        <number>5</number>
        <prettyName>Caching policy</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators>|, </separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>long|short|default|forbid</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </cache>
      <code>
        <contenttype>PureText</contenttype>
        <disabled>0</disabled>
        <editor>PureText</editor>
        <name>code</name>
        <number>2</number>
        <prettyName>Code</prettyName>
        <rows>20</rows>
        <size>50</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </code>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <parse>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>parse</name>
        <number>4</number>
        <prettyName>Parse content</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </parse>
      <use>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <freeText>forbidden</freeText>
        <largeStorage>0</largeStorage>
        <multiSelect>0</multiSelect>
        <name>use</name>
        <number>3</number>
        <prettyName>Use this extension</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators>|, </separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>currentPage|onDemand|always</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </use>
    </class>
    <property>
      <cache>long</cache>
    </property>
    <property>
      <code>// Configure require.js to use video.js and dash.js (https://github.com/videojs/video.js/blob/stable/docs/guides/setup.md)
// (https://github.com/Dash-Industry-Forum/dash.js)
require.config({
  'paths': {
    'video-js': "$services.webjars.url('video-js/4.11.4/video.js')",
    'dash-webm': "$services.webjars.url('dash.js/1.4/contrib/webmjs/dash.webm.min.js')",
    'videojs-dashjs': "$services.webjars.url('dash.js/1.4/contrib/videojs/videojs-tech-dashjs.js')"
  }
});

// Load the video-js css file.
function loadCss(url) {
  var link = document.createElement('link');
  link.type = 'text/css';
  link.rel = 'stylesheet';
  link.href = url;
  document.getElementsByTagName('head')[0].appendChild(link);
}

// Set up DASH player.
function setupPlayer(videoDashID) {
  // If the dash is not supported on the browser, play an flv video.
  if (videojs.Dashjs.isSupported()) {
    // Initalize the video.js player.
    var myPlayer = videojs(videoDashID, {context: new Webm.di.WebmContext()});
  } else {
    var flvVideoURL = document.getElementById(videoDashID).getElementsByClassName('flv-video-url')[0].value;
    var sourceElement = document.getElementById(videoDashID).getElementsByTagName('source')[0];
    sourceElement.setAttribute('src', flvVideoURL);
    sourceElement.setAttribute('type', 'video/x-flv');
    videojs(videoDashID);
  }
}

require(['jquery', 'dash-webm', 'video-js'], function($, dashwebm, videojs) {
  loadCss("$services.webjars.url('video-js/4.11.4/video-js.min.css')");
  videojs.options.flash.swf = "$services.webjars.url('video-js/4.11.4/video-js.swf')";
  require(['videojs-dashjs'], function(videojsdash) {
    $(function() {
      // Initialize DASH videos.
      $('video.dashvideo').each(function(index) {
        var videoDashID = 'dash-video' + index;
        $(this).attr('id', videoDashID);
        setupPlayer(videoDashID);
      });
    });
  });
});</code>
    </property>
    <property>
      <name>Js code for Video.js</name>
    </property>
    <property>
      <parse>1</parse>
    </property>
    <property>
      <use>onDemand</use>
    </property>
  </object>
  <object>
    <name>Macros.Video20</name>
    <number>0</number>
    <className>XWiki.StyleSheetExtension</className>
    <guid>8f368311-a644-44cc-9a5f-10ba6fb78ed6</guid>
    <class>
      <name>XWiki.StyleSheetExtension</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <cache>
        <cache>0</cache>
        <defaultValue>long</defaultValue>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <freeText>forbidden</freeText>
        <largeStorage>0</largeStorage>
        <multiSelect>0</multiSelect>
        <name>cache</name>
        <number>5</number>
        <prettyName>Caching policy</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators>|, </separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>long|short|default|forbid</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </cache>
      <code>
        <contenttype>PureText</contenttype>
        <disabled>0</disabled>
        <editor>PureText</editor>
        <name>code</name>
        <number>2</number>
        <prettyName>Code</prettyName>
        <rows>20</rows>
        <size>50</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </code>
      <contentType>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <freeText>forbidden</freeText>
        <largeStorage>0</largeStorage>
        <multiSelect>0</multiSelect>
        <name>contentType</name>
        <number>6</number>
        <prettyName>Content Type</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators>|, </separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>CSS|LESS</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </contentType>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <parse>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>parse</name>
        <number>4</number>
        <prettyName>Parse content</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </parse>
      <use>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <freeText>forbidden</freeText>
        <largeStorage>0</largeStorage>
        <multiSelect>0</multiSelect>
        <name>use</name>
        <number>3</number>
        <prettyName>Use this extension</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators>|, </separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>currentPage|onDemand|always</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </use>
    </class>
    <property>
      <cache>long</cache>
    </property>
    <property>
      <code>#set($videojsURL = $services.webjars.url('video-js/4.11.4/'))
@font-face{
  font-family: 'VideoJS';
  src: url('${videojsURL}font/vjs.eot');
  src: url('${videojsURL}font/vjs.eot?#iefix') format('embedded-opentype'),
  url('${videojsURL}font/vjs.woff') format('woff'),
  url('${videojsURL}font/vjs.ttf') format('truetype'),
  url('${videojsURL}font/vjs.svg#icomoon') format('svg');
  font-weight: normal;
  font-style: normal;
}

.xwiki-video-youtube-placeholder {
  width: 80%;
  height: 300px;
  background-image: url("$xwiki.getAttachmentURL('Macros.Video20', 'youtube.svg')");
  background-position: center;
  background-repeat: no-repeat;
  background-size: 120px;
  border: 1px solid #ccc;
  margin: auto;
}

.xwiki-video-embed {
  text-align: center;
}
</code>
    </property>
    <property>
      <contentType>CSS</contentType>
    </property>
    <property>
      <name>Videojs control icons</name>
    </property>
    <property>
      <parse>1</parse>
    </property>
    <property>
      <use>onDemand</use>
    </property>
  </object>
  <object>
    <name>Macros.Video20</name>
    <number>0</number>
    <className>XWiki.WikiMacroClass</className>
    <guid>801dd898-1b3f-4b5e-a961-269ed55e69d2</guid>
    <class>
      <name>XWiki.WikiMacroClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <async_cached>
        <defaultValue>0</defaultValue>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType/>
        <name>async_cached</name>
        <number>13</number>
        <prettyName>Cached</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </async_cached>
      <async_context>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <freeText>forbidden</freeText>
        <largeStorage>0</largeStorage>
        <multiSelect>1</multiSelect>
        <name>async_context</name>
        <number>14</number>
        <prettyName>Context elements</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator>, </separator>
        <separators>|, </separators>
        <size>5</size>
        <unmodifiable>0</unmodifiable>
        <values>action=Action|doc.reference=Document|icon.theme=Thème des icônes|locale=Langue|rendering.defaultsyntax=Default syntax|rendering.restricted=Restricted|rendering.targetsyntax=Target syntax|request.base=URL de base pour la requête|request.parameters=Paramètres de la requête|request.url=URL de la requête|request.wiki=Wiki de la requête|user=Utilisateur|wiki=Wiki</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </async_context>
      <async_enabled>
        <defaultValue>0</defaultValue>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType/>
        <name>async_enabled</name>
        <number>12</number>
        <prettyName>Asynchronous rendering</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </async_enabled>
      <code>
        <disabled>0</disabled>
        <editor>Text</editor>
        <name>code</name>
        <number>10</number>
        <prettyName>Macro code</prettyName>
        <rows>20</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </code>
      <contentDescription>
        <contenttype>PureText</contenttype>
        <disabled>0</disabled>
        <editor>PureText</editor>
        <name>contentDescription</name>
        <number>9</number>
        <prettyName>Content description (Not applicable for "No content" type)</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </contentDescription>
      <contentJavaType>
        <cache>0</cache>
        <defaultValue>Unknown</defaultValue>
        <disabled>0</disabled>
        <displayType>input</displayType>
        <freeText>allowed</freeText>
        <largeStorage>1</largeStorage>
        <multiSelect>0</multiSelect>
        <name>contentJavaType</name>
        <number>8</number>
        <picker>1</picker>
        <prettyName>Macro content type</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator>|</separator>
        <separators>|</separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>Unknown|Wiki</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </contentJavaType>
      <contentType>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <freeText>forbidden</freeText>
        <largeStorage>0</largeStorage>
        <multiSelect>0</multiSelect>
        <name>contentType</name>
        <number>7</number>
        <prettyName>Macro content availability</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator>|</separator>
        <separators>|</separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>Optional|Mandatory|No content</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </contentType>
      <defaultCategory>
        <disabled>0</disabled>
        <name>defaultCategory</name>
        <number>4</number>
        <prettyName>Default category</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultCategory>
      <description>
        <contenttype>PureText</contenttype>
        <disabled>0</disabled>
        <editor>PureText</editor>
        <name>description</name>
        <number>3</number>
        <prettyName>Macro description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <id>
        <disabled>0</disabled>
        <name>id</name>
        <number>1</number>
        <prettyName>Macro id</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </id>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>2</number>
        <prettyName>Macro name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <priority>
        <disabled>0</disabled>
        <name>priority</name>
        <number>11</number>
        <numberType>integer</numberType>
        <prettyName>Priority</prettyName>
        <size>10</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.NumberClass</classType>
      </priority>
      <supportsInlineMode>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>supportsInlineMode</name>
        <number>5</number>
        <prettyName>Supports inline mode</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </supportsInlineMode>
      <visibility>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <freeText>forbidden</freeText>
        <largeStorage>0</largeStorage>
        <multiSelect>0</multiSelect>
        <name>visibility</name>
        <number>6</number>
        <prettyName>Macro visibility</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator>|</separator>
        <separators>|</separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>Current User|Current Wiki|Global</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </visibility>
    </class>
    <property>
      <async_cached>0</async_cached>
    </property>
    <property>
      <async_context/>
    </property>
    <property>
      <async_enabled>0</async_enabled>
    </property>
    <property>
      <code>{{velocity}}
## Compute the URL of the embedded video from the original web URL.
#set ($url = '')
#set ($gdprSettings = $util.decodeURI($xwiki.getUserPreferenceFromCookie("gdprSettings")))
#set ($gdprArray = $gdprSettings.split(','))
#set ($discard = $xwiki.ssx.use('Macros.Video20'))
#if ($xcontext.macro.params.url.indexOf('dailymotion') != -1)
  ## DailyMotion URLs have the following format:
  ## http://www.dailymotion.com/video/&lt;videoId&gt;_&lt;pretty-name&gt;
  ## which should be transformed into:
  ## http://www.dailymotion.com/swf/&lt;videoId&gt;
  #set ($url = $xcontext.macro.params.url.replaceAll('^.*/video/(.*)_.*$', '//www.dailymotion.com/embed/video/$1'))
#elseif ($xcontext.macro.params.url.indexOf('youtube') != -1)
  ## YouTube URLs have the following format:
  ## http://www.youtube.com/watch?v=&lt;videoId&gt;&amp;otherParams
  ## which should be transformed into:
  ## https://youtube.googleapis.com/v/&lt;videoId&gt;
  #set ($url = $xcontext.macro.params.url.replaceAll('^.*?[&amp;?]v=(.*?)(&amp;.*|$)', '//www.youtube.com/embed/$1'))
  #if (!$gdprArray.contains('statistics'))
    #set ($showYouTubePlacehoder = true)
  #end
#elseif ($xcontext.macro.params.url.indexOf('youtu.be') != -1)
  ## YouTube URLs have the following format:
  ## http://www.youtube.com/watch?v=&lt;videoId&gt;&amp;otherParams
  ## which should be transformed into:
  ## https://youtube.googleapis.com/v/&lt;videoId&gt;
  #set ($url = $xcontext.macro.params.url.replaceAll('^.*youtu.be/(.*?)(&amp;.*|$)', '//www.youtube.com/embed/$1'))
  #if (!$gdprArray.contains('statistics'))
    #set ($showYouTubePlacehoder = true)
  #end
#elseif ($xcontext.macro.params.url.indexOf('google') != -1)
  ## Google Video URLs have the following format:
  ## http://video.google.com/videoplay?docid=&lt;videoId&gt;
  ## which should be transformed into:
  ## http://video.google.com/googleplayer.swf?docid=&lt;videoId&gt;
  #set ($url = $xcontext.macro.params.url.replaceAll('^.*?[&amp;?]docid=(.*?)(&amp;.*|$)', 'http://video.google.com/googleplayer.swf?docid=$1'))
#elseif ($xcontext.macro.params.url.indexOf('vimeo') != -1)
  ## Vimeo URLs have the following format:
  ## http://vimeo.com/&lt;videoId&gt;
  ## which should be transformed into:
  ## http://vimeo.com/moogaloop.swf?clip_id=&lt;videoId&gt;&amp;show_title=1
  #set ($url = $xcontext.macro.params.url.replaceAll('^.*?//.*?/(.*?)([#?].*|$)', '//player.vimeo.com/video/$1'))
#end
#set ($width = $xcontext.macro.params.width)
#set ($height = $xcontext.macro.params.height)
#set ($embedContainerClass = ' class="xwiki-video-embed"')
#set ($embedItemClass = '')
#set ($ratio = '')
## The ratio value is used to compute a bootstrap css class: embed-responsive-16by9.
#if ($xcontext.macro.params.ratio)
  #set ($ratio = $xcontext.macro.params.ratio.replace(':', 'by'))
  #set ($embedContainerClass = " class='embed-responsive embed-responsive-$ratio'")
  #set ($embedItemClass = 'embed-responsive-item')
  #set ($width = '100%')
  #set ($height = '100%')
#end
#set ($width = "width=$width")
#set ($height = "height=$height")
{{/velocity}}

{{velocity}}#if ("$!url" != '' &amp;&amp; "$!showYouTubePlacehoder" == '')
  {{html clean="false"}}
    &lt;div$!{embedContainerClass}&gt;
    #if ($xcontext.macro.params.url.indexOf('google') != -1)
      &lt;object class="$!embedItemClass" $!width $!height type="application/x-shockwave-flash" data="$!url"&gt;
        &lt;param name="movie" value="$!url"&gt;&lt;/param&gt;
        &lt;param name="allowFullScreen" value="true"&gt;&lt;/param&gt;
      &lt;/object&gt;
    #else
      &lt;iframe class="$!embedItemClass" src="$!url" $!width $!height frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
    #end
  &lt;/div&gt;
  {{/html}}
#elseif ($showYouTubePlacehoder == true)
  (% class="xwiki-embed-youtube xwiki-video-youtube-placeholder" data-video-url="$url" %)(((
  )))
#else
  #set ($discard = $xwiki.jsx.use('Macros.Video20'))
  #set ($discard = $xwiki.ssx.use('Macros.Video20'))
  #if ("$!xcontext.macro.params.attachment" != '')
    ## read a video attachement
    #set ($videoAttachmentName = $xcontext.macro.params.attachment)
    #set ($videoAttachmentDoc = $doc)
    #set ($videoAttachmentRef = $xcontext.macro.params.reference)
    #if ("$!videoAttachmentRef" != '' &amp;&amp; $services.security.authorization.hasAccess('view', $videoAttachmentRef))
      #set ($videoAttachmentDoc = $xwiki.getDocument($services.model.resolveDocument($videoAttachmentRef)))
    #end
    #if ($videoAttachmentDoc.getAttachment($videoAttachmentName))
      #set ($videoURL = $videoAttachmentDoc.getAttachmentURL($videoAttachmentName))
      #set ($videoPoster = '')
      #if ($videoAttachmentDoc.getAttachment($xcontext.macro.params.videoPoster))
        #set ($videoPoster = $videoAttachmentDoc.getAttachmentURL($xcontext.macro.params.videoPoster))
      #end
      #set ($supportedVideoFormats = ['mp4', 'webm', 'ogv', 'mov', 'avi', 'mkv', 'flv'])
      #set ($formatIndex = $videoAttachmentName.lastIndexOf('.'))
      #if ($formatIndex != -1)
        #set ($videoFormat = $videoAttachmentName.substring($mathtool.add($formatIndex, 1), $videoAttachmentName.length()))
        #if ($supportedVideoFormats.contains($videoFormat))
          #set ($videoMimeType = $videoFormat)
          #if ($videoFormat == 'ogv')
            #set ($videoMimeType = 'ogg')
          #elseif ($videoFormat == 'mov')
            #set ($videoMimeType = 'quicktime')
          #elseif ($videoFormat == 'avi')
            #set ($videoMimeType = 'x-msvideo')
          #elseif ($videoFormat == 'mkv')
            #set ($videoMimeType = 'x-matroska')
          #elseif ($videoFormat == 'flv')
            #set ($videoMimeType = 'x-flv')
          #end
        #end
      #end
      #if ("$!videoFormat" != '')
        {{html clean="false"}}
        &lt;div $!embedContainerClass&gt;
          &lt;video class="video-js vjs-default-skin vjs-big-play-centered $!embedItemClass" controls preload="auto"
              $!width $!height poster="$!videoPoster" data-setup=''&gt;
            &lt;source src="$!videoURL" type="video/$!videoMimeType" /&gt;
          &lt;/video&gt;
        &lt;/div&gt;
        {{/html}}
      #else
        {{warning}}Video format not supported.{{/warning}}
      #end
    #else
      {{warning}}Video attachment not found.{{/warning}}
    #end
  #elseif("$!xcontext.macro.params.dash" != '')
    #set ($dashDocRef = $services.model.resolveDocument($xcontext.macro.params.dash))
    #if ($xwiki.exists($dashDocRef))
      #set ($dashDoc = $xwiki.getDocument($dashDocRef))
      #if ($dashDoc.getAttachment('manifest.mpd'))
        #set ($manifestFileURL = $dashDoc.getAttachmentURL('manifest.mpd'))
        ## If the browser do not support DASH (Media Source Extensions) then display an flv low quality video
        #set ($flvVideoURL = '')
        #if ($dashDoc.getAttachment('video.flv'))
           #set ($flvVideoURL = $dashDoc.getAttachmentURL('video.flv'))
        #end
        {{html clean="false"}}
        &lt;div $!embedContainerClass&gt;
          &lt;video class="dashvideo video-js vjs-default-skin $!embedItemClass" controls preload="auto" $!width $!height&gt;
            &lt;source src="$!manifestFileURL" type="application/dash+xml"&gt;
            &lt;input type="hidden" class="flv-video-url" value="$!flvVideoURL"/&gt;
          &lt;/video&gt;
        &lt;/div&gt;
        {{/html}}
      #else
        {{warning}}manifest.mpd attachment not found.{{/warning}} 
      #end
    #else
      {{warning}}The DASH document not found.{{/warning}}
    #end
  #else
    {{warning}}The Video URL you entered ($!{xcontext.macro.params.url}) does not match any of the video websites supported by this macro. Please check the address you entered or improve the macro to make it support this website.{{/warning}}
  #end
#end
{{/velocity}}</code>
    </property>
    <property>
      <contentDescription/>
    </property>
    <property>
      <contentJavaType/>
    </property>
    <property>
      <contentType>No content</contentType>
    </property>
    <property>
      <defaultCategory>Content</defaultCategory>
    </property>
    <property>
      <description>Display in your wiki page any video from Youtube, Dailymotion, Google Video or Vimeo.

Also play a video attached to your wiki page using Video.js library. mp4, webm and ogv formats are supported.

The video macro can also plays a DASH video (Dynamic Adaptive Streaming over HTTP).</description>
    </property>
    <property>
      <id>video</id>
    </property>
    <property>
      <name>Video</name>
    </property>
    <property>
      <priority/>
    </property>
    <property>
      <supportsInlineMode>1</supportsInlineMode>
    </property>
    <property>
      <visibility>Current Wiki</visibility>
    </property>
  </object>
  <object>
    <name>Macros.Video20</name>
    <number>0</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>8903a193-2e0a-494f-83dd-30abb02d0eb6</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <type>
        <disabled>0</disabled>
        <name>type</name>
        <number>5</number>
        <prettyName>Parameter type</prettyName>
        <size>60</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </type>
    </class>
    <property>
      <defaultValue/>
    </property>
    <property>
      <description>The URL of the video you want to display on your page (Vimeo, Youtube, Daily Motion or Google Video only).</description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>url</name>
    </property>
    <property>
      <type/>
    </property>
  </object>
  <object>
    <name>Macros.Video20</name>
    <number>1</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>29e4bacf-4ab6-41e3-b4f0-6dde16d35639</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <type>
        <disabled>0</disabled>
        <name>type</name>
        <number>5</number>
        <prettyName>Parameter type</prettyName>
        <size>60</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </type>
    </class>
    <property>
      <defaultValue>100%</defaultValue>
    </property>
    <property>
      <description>The width of the embedded video, in pixels.</description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>width</name>
    </property>
    <property>
      <type/>
    </property>
  </object>
  <object>
    <name>Macros.Video20</name>
    <number>2</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>3598a1ed-6690-4566-a12b-7d71f1c45380</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <type>
        <disabled>0</disabled>
        <name>type</name>
        <number>5</number>
        <prettyName>Parameter type</prettyName>
        <size>60</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </type>
    </class>
    <property>
      <defaultValue>400</defaultValue>
    </property>
    <property>
      <description>The height of the embedded video, in pixels. By default a height of 400 pixels is used.</description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>height</name>
    </property>
    <property>
      <type/>
    </property>
  </object>
  <object>
    <name>Macros.Video20</name>
    <number>3</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>2b44a1a3-bff4-430c-b67d-74aefa4a5f10</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <type>
        <disabled>0</disabled>
        <name>type</name>
        <number>5</number>
        <prettyName>Parameter type</prettyName>
        <size>60</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </type>
    </class>
    <property>
      <defaultValue/>
    </property>
    <property>
      <description>The name of the video attachment.</description>
    </property>
    <property>
      <mandatory/>
    </property>
    <property>
      <name>attachment</name>
    </property>
    <property>
      <type/>
    </property>
  </object>
  <object>
    <name>Macros.Video20</name>
    <number>5</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>fc601300-1312-4be9-a493-54c9b342e9a4</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <type>
        <disabled>0</disabled>
        <name>type</name>
        <number>5</number>
        <prettyName>Parameter type</prettyName>
        <size>60</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </type>
    </class>
    <property>
      <defaultValue/>
    </property>
    <property>
      <description>The poster of the video is an image attachment that will be displayed before starting playing the video.</description>
    </property>
    <property>
      <mandatory/>
    </property>
    <property>
      <name>videoPoster</name>
    </property>
    <property>
      <type/>
    </property>
  </object>
  <object>
    <name>Macros.Video20</name>
    <number>6</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>62b9af00-2369-4fbe-82c7-842e01fc7ab4</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <type>
        <disabled>0</disabled>
        <name>type</name>
        <number>5</number>
        <prettyName>Parameter type</prettyName>
        <size>60</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </type>
    </class>
    <property>
      <defaultValue/>
    </property>
    <property>
      <description>The document in which the manifest.mpd file and the video streams are attached.</description>
    </property>
    <property>
      <mandatory/>
    </property>
    <property>
      <name>dash</name>
    </property>
    <property>
      <type/>
    </property>
  </object>
  <object>
    <name>Macros.Video20</name>
    <number>7</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>79225132-6d85-48ec-a484-529bf03df89e</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <type>
        <disabled>0</disabled>
        <name>type</name>
        <number>5</number>
        <prettyName>Parameter type</prettyName>
        <size>60</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </type>
    </class>
    <property>
      <defaultValue/>
    </property>
    <property>
      <description>Reference of a document in case of a video attachment.</description>
    </property>
    <property>
      <mandatory/>
    </property>
    <property>
      <name>reference</name>
    </property>
    <property>
      <type/>
    </property>
  </object>
  <object>
    <name>Macros.Video20</name>
    <number>8</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>8a69d5f4-2095-4682-b1b7-eeaa4b6f01a7</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <type>
        <disabled>0</disabled>
        <name>type</name>
        <number>5</number>
        <prettyName>Parameter type</prettyName>
        <size>60</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </type>
    </class>
    <property>
      <defaultValue/>
    </property>
    <property>
      <description>The aspect ratio of a video describes the proportional relationship between its width and its height. Possible values: '1:1', '4:3', '16:9', '21:9'.</description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>ratio</name>
    </property>
    <property>
      <type/>
    </property>
  </object>
</xwikidoc>
